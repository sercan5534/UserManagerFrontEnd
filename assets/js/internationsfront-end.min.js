/*! internationsfront-end 2016-09-11 */

window.APP=angular.module("internationsapp",["ngRoute","ui.bootstrap","ngSanitize"]),APP.config(["$routeProvider",function($routeProvider){$routeProvider.when("/",{templateUrl:"/app/main/view/dashboardView.html",controller:"dashboardController"}).when("/user",{templateUrl:"/app/user/view/userListView.html",controller:"userListController"}).when("/user/:id",{templateUrl:"/app/user/view/userDetailView.html",controller:"userDetailController"}).when("/group",{templateUrl:"/app/group/view/groupListView.html",controller:"groupListController"}).when("/group/:id",{templateUrl:"/app/group/view/groupDetailView.html",controller:"groupDetailController"}).when("/error",{templateUrl:"/app/main/view/error.html",controller:"errorController"}).otherwise({templateUrl:"/app/main/view/error.html",controller:"errorController"})}]),APP.factory("apiFactory",["$http","$location",function($http,$location){function handleError(callback,response){$location.path("/error")}var urlBase="https://internations.herokuapp.com/api/",factory={};return factory.getUserList=function(callback){return $http.get(urlBase+"user").then(function(response){callback(response.data)},function(response){handleError(callback,response)})},factory.getUserById=function(id,callback){return $http.get(urlBase+"user/"+id).then(function(response){callback(response.data)},function(response){handleError(callback,response)})},factory.addUser=function(callback,data){return $http.post(urlBase+"user",data).then(function(response){callback(response.data)},function(response){handleError(callback,response)})},factory}]),APP.controller("groupListController",["$scope","apiFactory",function($scope,apiFactory){}]),APP.controller("dashboardController",["$scope","apiFactory",function($scope,apiFactory){$scope.getUserList=function(){apiFactory.getUserList(function(res){$scope.userList=res.data})},$scope.getUserList()}]),APP.controller("errorController",["$scope",function($scope){}]),APP.controller("userListController",["$scope","apiFactory","$uibModal",function($scope,apiFactory,$uibModal){$scope.userList=[],$scope.getUserList=function(){apiFactory.getUserList(function(res){$scope.userList=res.data})},$scope.openAddModal=function(){var modalInstance=$uibModal.open({animation:!0,templateUrl:"addModal.html",controller:"addNModalInsCtrl",size:"md",scope:$scope});modalInstance.opened.then(function(){$scope.newUser={}}),modalInstance.result.then(function(data){$scope.addUser(data)})},$scope.addUser=function(data){apiFactory.addUser(function(res){$scope.getUserList()},data)},$scope.getUserList()}]),APP.controller("addNModalInsCtrl",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("close")},$scope.save=function(){$scope.newUser.groupList=1,$uibModalInstance.close($scope.newUser)}});
//# sourceMappingURL=internationsfront-end.min.js.map